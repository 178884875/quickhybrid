/*!
 * quickhybrid v0.0.1
 * (c) 2017-2017 dailc
 * Released under the BSD-3-Clause License.
 * https://github.com/quickhybrid/quickhybrid
 */
!function(o,R){"object"==typeof exports&&"undefined"!=typeof module?module.exports=R():"function"==typeof define&&define.amd?define(R):o.ejs=R()}(this,function(){"use strict";function o(o){console.error("[quick error]: "+o)}function R(o){console.log("[quick log]: "+o)}function e(o){for(var R=o,e=arguments.length,i=Array(e>1?e-1:0),E=1;E<e;E++)i[E-1]=arguments[E];return i.forEach(function(o){Object.keys(o).forEach(function(e){R[e]=o[e]})}),R}function i(o,R){if("string"!=typeof o||"string"!=typeof R)throw new Error("version need to be string type");for(var e=o.split("."),i=R.split("."),E=Math.max(e.length,i.length),s=0;s<E;s+=1){var n=e[s]||0,t=i[s]||0;if(n-=0,t-=0,n>t)return 1;if(n<t)return-1}return 0}var E={ERROR_TYPE_APIOS:{code:1001,msg:"\u8be5API\u65e0\u6cd5\u5728\u5f53\u524dOS\u4e0b\u8fd0\u884c"},ERROR_TYPE_APIMODIFY:{code:1002,msg:"\u4e0d\u5141\u8bb8\u66f4\u6539JSSDK\u7684API"},ERROR_TYPE_MODULEMODIFY:{code:1003,msg:"\u4e0d\u5141\u8bb8\u66f4\u6539JSSDK\u7684\u6a21\u5757"},ERROR_TYPE_APINOTEXIST:{code:1004,msg:"\u8c03\u7528\u4e86\u4e0d\u5b58\u5728\u7684api"},ERROR_TYPE_PROTONOTEXIST:{code:1005,msg:"\u8c03\u7528\u9519\u8bef\uff0c\u8be5\u7ec4\u4ef6api\u5bf9\u5e94\u7684proto\u4e0d\u5b58\u5728"},ERROR_TYPE_CUSTOMEAPINOTEXIST:{code:1006,msg:"\u975e\u5bb9\u5668\u4e0b\u65e0\u6cd5\u8c03\u7528\u81ea\u5b9a\u4e49\u7ec4\u4ef6API"},ERROR_TYPE_EVENTNOTEXIST:{code:1007,msg:"\u5bf9\u5e94\u7684event\u4e8b\u4ef6\u5728\u8be5\u73af\u5883\u4e0b\u4e0d\u5b58\u5728"},ERROR_TYPE_INITVERSIONERROR:{code:1008,msg:"\u521d\u59cb\u5316\u7248\u672c\u53f7\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5\u5bb9\u5668api\u7684\u5b9e\u73b0\u60c5\u51b5"},ERROR_TYPE_READYMODIFY:{code:2001,msg:"ready\u56de\u8c03\u4e0d\u5141\u8bb8\u591a\u6b21\u8bbe\u7f6e"},ERROR_TYPE_CONFIGMODIFY:{code:2002,msg:"config\u4e0d\u5141\u8bb8\u591a\u6b21\u8c03\u7528"},ERROR_TYPE_CONFIGERROR:{code:2003,msg:"config\u6821\u9a8c\u9519\u8bef"},ERROR_TYPE_VERSIONNOTSUPPORT:{code:2004,msg:"\u4e0d\u652f\u6301\u5f53\u524d\u5bb9\u5668\u7248\u672c\uff0c\u8bf7\u786e\u4fdd\u5bb9\u5668\u4e0e\u524d\u7aef\u5e93\u7248\u672c\u5339\u914d"},ERROR_TYPE_VERSIONNEEDUPGRADE:{code:2005,msg:"\u5f53\u524dJSSDK\u5e93\u5c0f\u4e8e\u5bb9\u5668\u7248\u672c\uff0c\u8bf7\u5c06\u524d\u7aef\u5e93\u5347\u7ea7\u5230\u6700\u65b0\u7248\u672c"},ERROR_TYPE_NATIVE:{code:3e3,msg:"\u6355\u83b7\u5230\u4e00\u5904\u539f\u751f\u5bb9\u5668\u9519\u8bef"},ERROR_TYPE_NATIVECALL:{code:3001,msg:"\u539f\u751f\u8c03\u7528H5\u65f6\u53c2\u6570\u4e0d\u5bf9"},ERROR_TYPE_UNKNOWN:{code:9999,msg:"\u672a\u77e5\u9519\u8bef"}},s={};return function(s){function n(){var R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u9519\u8bef!";o("code:"+R+", msg:"+e),O&&O({code:R,message:e})}function t(){r.runtime&&r.runtime.getQuickVersion?r.runtime.getQuickVersion({success:function(o){var R=o.version;i(r.version,R)<0&&n(E.ERROR_TYPE_VERSIONNEEDUPGRADE.code,E.ERROR_TYPE_VERSIONNEEDUPGRADE.msg)},error:function(){n(E.ERROR_TYPE_INITVERSIONERROR.code,E.ERROR_TYPE_INITVERSIONERROR.msg)}}):n(E.ERROR_TYPE_VERSIONNOTSUPPORT.code,E.ERROR_TYPE_VERSIONNOTSUPPORT.msg)}var r=s,O=void 0,c=void 0,_=!1,d=!1;r.config=function(o){if(d)n(E.ERROR_TYPE_CONFIGMODIFY.code,E.ERROR_TYPE_CONFIGMODIFY.msg);else{d=!0;var R=function(){c?c():_=!0};r.os.quick?(t(),r.auth.config(e({success:function(){R()},error:function(o){var R=o?JSON.stringify(o):E.ERROR_TYPE_CONFIGERROR.msg;n(E.ERROR_TYPE_CONFIGERROR.code,R)}},o))):R()}},r.ready=function(o){c?n(E.ERROR_TYPE_READYMODIFY.code,E.ERROR_TYPE_READYMODIFY.msg):(c=o,_&&(R("ready!"),_=!1,c()))},r.error=function(o){O=o},r.showError=n}(s),function(o){(function(o){this.os={};var R=o.match(/(Android);?[\s/]+([\d.]+)?/);R&&(this.os.android=!0,this.os.version=R[2],this.os.isBadAndroid=!/Chrome\/\d/.test(window.navigator.appVersion));var e=o.match(/(iPhone\sOS)\s([\d_]+)/);e&&(this.os.ios=!0,this.os.iphone=!0,this.os.version=e[2].replace(/_/g,"."));var i=o.match(/(iPad).*OS\s([\d_]+)/);i&&(this.os.ios=!0,this.os.ipad=!0,this.os.version=i[2].replace(/_/g,"."));var E=o.match(/QuickHybrid/i);E&&(this.os.quick=!0);var s=o.match(/EpointEJS/i);s&&(this.os.ejs=!0);var n=o.match(/DingTalk/i);n&&(this.os.dd=!0),s||n||E||(this.os.h5=!0)}).call(o,navigator.userAgent)}(s),s.Version="3.0.0",s});